section
  h3(id='res.format') res.format(object)
  
  p.
    요청 Accept 헤더 필드에 컨텐트 타협(content-negotiation)가 있을 경우 이를 수행합니다.
    이 메소드는 quality 값의 순서로 이루어진 수용 할 수 있는 종류(accpetable types)의 배열인 <code>req.accepted</code>를 사용하고,
    그렇지 않을 경우에는 첫 콜백이 호출됩니다.
    아무 것도 매칭 되지 않을 경우는 서버는 406 "Not Acceptable"로 응답하거나, <code>default</code> 콜백을 호출합니다.

  p.
    콜백이 선택 될 경우 컨텐트 타협(content-negotiation)이 설정되나,
    이는 콜백 내에서 <code>res.set()</code>나 <code>res.type()</code> 등을 이용하여 수정 할 수 있습니다.

  p.
    아래 예제는 Accept 헤더 필드가 "application/json"나 "*/json"로 설정 될 때
    <code>{ "message": "hey" }</code>로 응답하나, 만일 "*/*"이 주어지면 "hey"라고 응답합니다.


  +js.
    res.format({
      'text/plain': function(){
        res.send('hey');
      },
    
      'text/html': function(){
        res.send('<p>hey</p>');
      },
    
      'application/json': function(){
        res.send({ message: 'hey' });
      }
    });

  p.
    캐논 형식의(Canonicalized) MIME 타입 이외에도, 
    이러한 타입과 맵핑 된 extnames도 사용 할 수 있으며, 이는 더 간략한 구현을 제공합니다.

  +js.
    res.format({
      text: function(){
        res.send('hey');
      },
    
      html: function(){
        res.send('<p>hey</p>');
      },
    
      json: function(){
        res.send({ message: 'hey' });
      }
    });
  